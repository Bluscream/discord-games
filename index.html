<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Discord Games Browser</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">üéÆ Discord Games Browser</span>

      <div class="navbar-nav ms-auto d-flex align-items-center">
        <!-- Search Box -->
        <div class="nav-item me-3">
          <input type="text" class="form-control form-control-sm" id="searchInput" placeholder="Search games..." style="width: 200px;">
        </div>

        <!-- Filter Dropdown -->
        <div class="nav-item dropdown me-3">
          <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" id="filterDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-funnel"></i> Filter
          </button>
          <ul class="dropdown-menu dropdown-menu-end" id="filterMenu">
            <li>
              <h6 class="dropdown-header">Theme</h6>
            </li>
            <li><a class="dropdown-item" href="#" data-filter="theme" data-value="">All Themes</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <h6 class="dropdown-header">Operating System</h6>
            </li>
            <li><a class="dropdown-item" href="#" data-filter="os" data-value="">All OS</a></li>
            <li><a class="dropdown-item" href="#" data-filter="os" data-value="win32">Windows</a></li>
            <li><a class="dropdown-item" href="#" data-filter="os" data-value="darwin">macOS</a></li>
            <li><a class="dropdown-item" href="#" data-filter="os" data-value="linux">Linux</a></li>
          </ul>
        </div>

        <!-- Sort Dropdown -->
        <div class="nav-item dropdown me-3">
          <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" id="sortSelect" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-sort-alpha-down"></i> Sort
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#" data-sort="name">Name (A-Z)</a></li>
            <li><a class="dropdown-item" href="#" data-sort="name-desc">Name (Z-A)</a></li>
            <li><a class="dropdown-item" href="#" data-sort="id">ID (A-Z)</a></li>
            <li><a class="dropdown-item" href="#" data-sort="id-desc">ID (Z-A)</a></li>
            <li><a class="dropdown-item" href="#" data-sort="executables">Executables Count</a></li>
            <li><a class="dropdown-item" href="#" data-sort="themes">Themes Count</a></li>
            <li><a class="dropdown-item" href="#" data-sort="hook">Hook Support</a></li>
            <li><a class="dropdown-item" href="#" data-sort="overlay">Overlay Support</a></li>
          </ul>
        </div>

        <!-- Proxy Dropdown -->
        <div class="nav-item dropdown me-3">
          <button class="btn btn-outline-light dropdown-toggle" type="button" id="proxyDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-globe"></i> Proxy
          </button>
          <ul class="dropdown-menu dropdown-menu-end" id="proxyMenu">
            <li><a class="dropdown-item" href="#" data-proxy="direct">üåê Direct (No Proxy)</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <!-- Proxy items will be populated dynamically -->
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="#" data-proxy="custom">Custom Proxy...</a></li>
          </ul>
        </div>

        <!-- Action Buttons -->
        <button class="btn btn-primary me-2" id="loadGames">
          <i class="bi bi-download"></i> Load
        </button>
        <button class="btn btn-outline-secondary" id="clearData">
          <i class="bi bi-trash"></i> Clear
        </button>
      </div>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-12">

        <!-- Loading Indicator -->
        <div class="text-center loading-spinner" id="loadingSpinner">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-2">Loading games data...</p>
        </div>


        <!-- Results Table -->
        <div id="resultsCard" style="display: none;">
          <div class="table-responsive">
            <table class="table table-hover mb-0" id="gamesTable">
              <thead class="table-dark sticky-top">
                <tr>
                  <th>Icon</th>
                  <th>Name</th>
                  <th>Aliases</th>
                  <th>ID</th>
                  <th>Executables</th>
                  <th>Themes</th>
                  <th>Hook</th>
                  <th>Overlay</th>
                  <th>Overlay Hook</th>
                  <th>Overlay Methods</th>
                  <th>Overlay Warn</th>
                  <th>Icon Hash</th>
                </tr>
              </thead>
              <tbody id="gamesTableBody">
              </tbody>
            </table>
          </div>
        </div>

        <!-- Error Alert -->
        <div class="alert alert-danger" id="errorAlert" style="display: none;">
          <i class="bi bi-exclamation-triangle"></i>
          <span id="errorMessage"></span>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
</body>

</html>